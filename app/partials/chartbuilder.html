<div class="container">
  <div class="header">
      <ul class="nav nav-pills pull-right">
          <li><a href="#/">Home</a>
          </li>
          <li class="active"><a href="#/chartbuilder">Chartbuilder</a>
          </li>
          <li><a href="#/about">About</a>
          </li>
      </ul>
      <h3 class="text-muted">angular + d3 chartbuilder <i class="fa fa-cog fa-spin"></i></h3>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <select id="chartTypeSelect"
        class="form-control"
        ng-options="type for type in chartDisplayType"
        ng-model="selectedChartType"
        >
        <option value="">Select a chart type</option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      {{ targetGroup | json }}
      <form class="form-horizontal well"
        role="form"
        ng-submit="addRow()"
        >
        <div class="form-group">
          <label for="chartName" class="col-sm-3 control-label">Your chart's name</label>
          <div class="col-sm-9">
            <input type="text" id="chartName" class="form-control" ng-model="exampleData[targetGroupIndex].key" />
          </div>
        </div>
        <div class="form-group">
          <label for="groupData" class="col-sm-3 control-label">Data group</label>
          <div class="col-sm-9">
            <select ng-options="index as ('Group ' + (parseInt(index) + 1) + ': ' + group.key) for (index, group) in exampleData track by $index"
              ng-model="targetGroup.selected"
              >
            </select>
            <div class="btn btn-xs btn-info"
              ng-click="addGroup()"
              >
              Add another group to the data set
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="dataRowInput" class="col-sm-3 control-label">Add a new row to the data table</label>
          <div class="col-xs-3">
            <input type="text"
              id="dataRowInput"
              class="form-control"
              ng-model="newRow.0"
              placeholder="Data name"
              >
            </input>
          </div>
          <div class="col-xs-3">
            <input type="text"
              id="dataRowInput"
              class="form-control"
              ng-model="newRow.1"
              placeholder="Value"
              >
            </input>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-1 col-sm-11">
            <button type="submit" class="btn btn-default">Add row</button>
          </div>
        </div>
      </form>

      <div class="btn-group">
        <button class="btn btn-lg btn-success"
          ng-click="buildChart()"
          >
          Build chart
        </button>
      </div>

      <div class="panel panel-default"
        ng-repeat="group in exampleData track by $index"
        >
        <div class="panel-heading">
          <h4>Data Grouping {{ $index + 1 }}: {{ group.key }}</h4>
        </div>
        <div class="panel-body">
          <table class="table">
            <thead>
              <tr>
                <th>Remove</th>
                <th>Name</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="rows in group.values">
                <td>
                  <span class="glyphicon glyphicon-remove"
                    ng-click="removeRow($parent.$index, $index)"
                    >
                  </span>
                </td>
                <td ng-repeat="row in rows">
                  {{ row }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="col-lg-12">
        <div class="panel panel-default">
          <div class="panel-body">
            <ui-view></ui-view>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
