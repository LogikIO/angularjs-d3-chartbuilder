<div class="panel-group" id="accordion" ng-model="group.groups" ui-sortable>
	<div class="panel panel-default"
		ng-repeat="group in structureData.data track by $index"
		>
		<div class="panel-heading">
			<div class="panel-title">
				<a data-toggle="collapse"
					data-parent="#accordion"
					data-target="#collapse-{{ $index }}"
					href=""
					>
					Data Group {{ $index + 1 }}: {{ group.key }}
				</a>
			</div>
		</div>
		<div id="collapse-{{ $index }}" class="panel-collapse collapse in">
			<div class="panel-body">
				<table class="table">
					<thead>
						<tr>
							<th>Remove</th>
							<th data-ng-repeat="type in structureData.columnTypes track by $index">
								type: <select ng-options="type as type for type in structureData.columnTypes" ng-model="structureData.columnTypes[$index]"></select>
							</th>
						</tr>
					</thead>
					<tbody ng-model="group.values" ui-sortable>
						<tr ng-repeat="rows in group.values track by $index">
							<td>
								<span class="glyphicon glyphicon-minus"
									ng-click="removeRow($parent.$index, $index)"
									>
								</span>
							</td>
							<td ng-repeat="row in rows track by $index">
								<edit-in-place value="structureData.data[$parent.$parent.$index].values[$parent.$index][$index]"
									type="{{ structureData.columnTypes[$index] | lowercase }}"
									>
								</edit-in-place>
							</td>
						</tr>
						<tr>
							<td>
								<span class="glyphicon glyphicon-plus"
									ng-click="addRow($index)"
									>
								</span>
							</td>
							<td ng-repeat="row in dataInputs">
								<input type="{{ structureData.columnTypes[$index] | lowercase }}" class="form-control" placeholder="name" ng-model="newRow[$parent.$index][$index]" />
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
