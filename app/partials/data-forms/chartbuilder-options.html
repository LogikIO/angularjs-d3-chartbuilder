<div ng-hide="node.isCollapsed" class="list-group">
	<div class="row list-group-item" ng-repeat="key in utils.keys(json) track by key" ng-hide="utils.isHidden(key)">
		<span ng-class="{ 'col-lg-4': !children[key].isObject() }" ng-click="utils.clickNode(children[key])">
			<h4>{{ key }}<i ng-show="children[key].isObject()" class="glyphicon pull-right" ng-class="{ 'glyphicon-chevron-right': children[key].isCollapsed, 'glyphicon-chevron-down': !children[key].isCollapsed }"></i></h4>
		</span>
		<div ng-class="{ 'col-lg-8': !children[key].isObject() }">
			<span ng-hide="children[key].isObject()" class="pull-right">
				<div ng-show="children[key].type() === 'boolean'" ng-click="json[key] = !json[key]" ng-model="json[key]" class="btn-group">
					<button type="button" class="btn" ng-class="{ active: json[key], 'btn-primary': json[key], 'btn-default': !json[key] }">On</button>
					<button type="button" class="btn btn-default" ng-class="{ active: !json[key] }">Off</button>
				</div>
				<input ng-show="children[key].type() === 'number'" type="number" class="form-control" ng-model="json[key]" />
				<textarea ng-if="children[key].type() === 'function'" ng-model="jsonFn[key]" ng-init="utils.textarea.init(key)" ng-change="utils.textarea.onChange(key)" ng-focus="utils.textarea.onFocus($event, key)" ng-blur="utils.textarea.onBlur(key)" class="form-control"></textarea>
				<input ng-show="children[key].type() !== 'number' && children[key].type() !== 'function' && children[key].type() !== 'boolean'" type="text" class="form-control" ng-model="json[key]" ng-change="utils.validateNode(key)" placeholder="null"/>
			</span>
			<chartbuilder-options json="json[key]" collapsed-level="{{ +collapsedLevel - 1 }}" node="children[key]" ng-show="children[key].isObject()"></chartbuilder-options>
		</div>
	</div>
</div>
